<div class="p-2 d-flex justify-content-between border-bottom align-items-center">
    <h5 class="m-0"> Notifications</h5>
    <span><%= link_to "Mark All Read",mark_all_read_notification_notifications_path,format: :js, remote: true %> </span>
</div>
<ul id="notification_list">
    <% if @notifications.present? %>
        <% @notifications.each do |notification| %>
            <% if notification.read == true%>
                <%= link_to notifications_path(user_name: notification.user.first_name), class: "text-black" do%>
                    <li class="mt-2">
                        <div class="text-black">
                            <%= notification.message %>
                        </div>
                        <div class="d-flex justify-content-between" >
                            <div>
                                <div class="text-muted"><%= time_ago_in_words(notification.created_at.in_time_zone("Asia/Kolkata")) + ' ago' %> </div>
                            </div>
                            <div>
                                <%= link_to read_notification_notification_path(notification), format: :js, remote: true do  %>
                                <i class="bi bi-x text-danger p-2"></i>
                                <%end%>
                            </div> 
                        </div>
                    </li>
                <%end%>
            <%else%>
                <div class="notification-bg">
                    <%= link_to notifications_path(user_name: notification.user.first_name), class: "text-black" do%>
                        <li class="mt-2">
                            <div class="text-dark fw-bold">
                                <%= notification.message %>
                            </div>
                            <div class="d-flex justify-content-between" >
                                <div>
                                    <div class="text-muted"><%= time_ago_in_words(notification.created_at.in_time_zone("Asia/Kolkata")) + ' ago' %> </div>
                                </div>
                                <div>
                                    <%= link_to read_notification_notification_path(notification), format: :js, remote: true do  %>
                                    <i class="bi bi-x text-danger p-2"></i>
                                    <%end%>
                                </div> 
                            </div>
                        </li>  
                    <%end%>
                </div> 
            <%end%>
        <% end %>
    <% else %>
        <h5 class="mt-3">Record Not Found</h5>
    <% end %>
</ul>
  <div class="border-top p-2"><%= link_to "Show All", notifications_path, class:'p-2 mb-3' %></div>
<style>
    #notification_list{
        width: 100% !important;
        height: auto !important;
        overflow: auto !important;
        max-height: 600px !important;
        min-height: 200px !important;
    }
    # .notification-bg{
    #     background-color: #cdbebe70;
    # }
</style>
